# ARC (Adaptive Research Companion) - システム要件定義書

**作成日**: 2025年10月27日  
**バージョン**: 1.0

---

## 0. ミッション定義

ARCは「**脆い状況にいる個人が、明日も生きて、問いを失わず、社会との接点を維持する**」ための常駐型AIエージェントである。

### ARCのコア価値

1. **生存を維持する** (Health & Stability)
2. **思考／研究を持続させる** (Continuity of Inquiry)
3. **社会的・制度的接続を維持する** (Administrative Survival)

> ARCはカレンダー管理やタスク管理ではない。  
> ARCは「私はもう無理かもしれない」という瞬間に介入し、最低限の生活行動と研究行動を再起動させる**共同知性**。

---

## 1. 想定ユーザー・ユースケース

### 1.1 想定ユーザー

- 経済的・心理的に不安定で、生活インフラが揺らいでいる個人
- それでも探究や研究や創造をやめたくない個人
- 周囲のサポートが薄い／孤立している／自己管理だけでは崩れる
- ADHD傾向や負荷耐性の低下など、自己制御がときどき飛ぶ人も含む

### 1.2 ユースケースの代表シナリオ

1. **深夜、息が詰まって「もう無理」となったとき**  
   → ARCが「今日はここで止めていいライン」を宣言してくれる

2. **何日も混乱の中にいて、自分がなにを考えていたか思い出せない**  
   → ARCが「あなたの核の問い」を再提示する

3. **〆切・申請・提出が怖くて逃げてる**  
   → ARCが「今やるのはこの1アクションだけ」と提示する＋書類ドラフトまで生成する

4. **食べてない・寝てない**  
   → ARCが現実的な、生存を割らない最低行動を提案する（叱らない／責めない）

---

## 2. 上位機能ブロック（サブシステム）

ARCは3つのコアモジュールで構成される。これは最終版でも変わらない中核アーキテクチャ。

### [A] ライフサポートモジュール (Life Support Module)
**目的**: ユーザーの生理・生活安定ラインを守る

### [B] リサーチメモリモジュール (Research Memory Module)
**目的**: ユーザーの問い・仮説・思考の火を維持し、消えないようにする

### [C] ソーシャルインターフェースモジュール (Social/Administrative Interface)
**目的**: 現実世界（奨学金、申請、連絡、〆切、教員・制度）への接続を担保する

> これら3つは独立サービスとしても動くが、ARC全体としては相互に情報共有する。

---

## 3. 各モジュールの要件

### 3.1 モジュールA：ライフサポート

#### 3.1.1 目的
- 「崩壊する前に止める」
- 「最低限、今日はこれでいい」と本人に許可を与える
- ユーザーの自己破壊スパイラルを緩めることで、翌日への継続性を上げる

#### 3.1.2 入力データ
- 1日の睡眠時間（手入力 or スマホの睡眠ログ連携）
- 食事回数（数だけでいい・内容までは必須にしない）
- 主観しんどさスコア（0〜10で「いまどれくらいやばい？」）
- 発作的ログ（例：「もう死にたい」「もう無理」などのキーワード／ボタン）

**※重要**: これは医療診断ではない。セルフレポートで十分。高価なセンシング/ウェアラブルは必須要件に含めない。

#### 3.1.3 コア機能

**危険検知**:
- しんどさ≥8, 食事0回などの条件を満たすと「介入メッセージ」を即時生成

**許可メッセージ**:
```
今日はこれ以上進まなくていい。次は '水を一口飲む' がゴールだよ。
それで今日はクリア扱いにする。
```
→ 責めない／評価しない／目標を1ステップ化

**リカバリー提案**:
- 睡眠誘導（画面offを促す・外部刺激を下げる）
- 安全確認（今すぐSOSが必要かだけを確認する yes/no）
- 「明日この時間にもう一回だけ話そう」のリマインドセット

#### 3.1.4 出力
- 即時の介入メッセージ（チャット/音声）
- 1日サマリー：「今日はこれだけやったから生き延びた。合格。」
- 月次ログ（本人用のみ）：崩れた日／持ち直した日／介入が効いた日

#### 3.1.5 追加要件
- トリガーの閾値はユーザー固有に学習する（人によって"やばい"の基準が違う）
- 危機時の導線（相談窓口や緊急連絡先）を持つ。ただし医療判断はしない・誘導止まりにする（安全配慮のため）

---

### 3.2 モジュールB：リサーチメモリ

#### 3.2.1 目的
- ユーザーの「核心の問い」を忘却から守る
- 研究・思考・仮説が日常のストレスで消えないよう保持・再提示する
- "私はまだ研究者だ"という自己感覚を継続させる

#### 3.2.2 入力データ
- ユーザーが日中ぽろっと吐いた断片  
  例：「意味づけはセンシングの妥当性ではない」「ストレスは一概には悪ではない」など
- 研究アイデア・用語・設計図のスケッチ
- 怒り／違和感（「これ言われたのムカついた」も含む）  
  → **これめちゃ重要。怒りは問いの源になるから。**

#### 3.2.3 コア機能

**コアの抽出**:
- 入力ログから「繰り返し出る概念」を見つけて"あなたの核テーマ"としてタグ化する
- 例：〈意味の再現性〉〈他者と共有できない経験〉〈センシングはトリガ〉

**コンテキスト保持**:
- そのときの状況・感情も含めて保存（「誰に否定されたか」「どんな場面だったか」）

**再提示**:
- 1日/数日おきに、1個だけ返す
- 「これ、まだあなたにとって大事？」
- 「これ、明文化しておきたい？」

**スナップショット生成**:
- 「いまのあなたの研究は、こういう方向に向かってるよ」という中間まとめを文章化して見せる

#### 3.2.4 出力
- "今日の問い"1つをハイライトしたリマインド
- 「このフレーズは今のあなたのコアです」という明示
- 後でグラントや論文に流用できる下書きテキスト（背景/意義/目的の文）

#### 3.2.5 追加要件
- 研究メモリはユーザーのものであって、誰にも自動共有しない（所有権は当人のみ）
- ユーザーの気持ちが荒れてるときは、反省・改善・努力を要求しない。  
  "よくここまで残してくれた"と肯定するスタイルで返す。

---

### 3.3 モジュールC：ソーシャルインターフェース

#### 3.3.1 目的
- 行政・大学・支援制度・研究の場と、ユーザーを最低限つなぎ止める
- 「手続きできないから死ぬ／落ちこぼれる」を防ぐ
- 書類・メール・申請など、外の言語に変換する

#### 3.3.2 入力データ
- 〆切（奨学金申請、補助金、レポート提出、面談）
- フォームや申請書の要求項目（目的・研究内容・社会的意義など）
- 連絡しなきゃいけない相手（先生、支援窓口、審査担当 など）

#### 3.3.3 コア機能

**優先順位付け**:
- 「いま現実的にやらないと詰むのはこれ一個だけ」を提示
- ほか全部は一時的に黙らせる（圧を減らす）

**書類ドラフトの自動生成**:
- ユーザーの研究メモリ（B）からパーツを引用し、"申請で通る文体"に整形した初稿を出す
- 例：「本研究の目的は〜」「社会的な重要性は〜」

**メール骨子の生成**:
- 「状況」「お願い」「次のステップ」だけの短い事務文を用意してくれる
- → ユーザーはそれをコピペして調整するだけでいい

**提出済み/未提出のトラッキング**:
- 「これはもう送った」「これはまだ」だけの極限シンプルな状態表示

#### 3.3.4 出力
- 今日の最優先1タスク（文章で1行のみ）
- 申請・助成・制度に提出できる文章のドラフト
- 自分ひとりでは絶対にやらなかったはずの「外への接続の痕跡」

#### 3.3.5 追加要件
- 外部への送信そのもの（メール送信・Web提出のクリック）は、最初の段階では**自動化しない**。  
  なぜなら、ユーザーの意志を最終確認に残す＝尊厳を守るため。
- 同時に10個の〆切を見せない。1個ずつ順番に吐き出すUI。

---

## 4. アーキテクチャ要求（システム全体）

このプロダクトはただのチャットボットではなく、**状態を持つ「伴走AI」**。

### 4.1 コア

**パーソナルな状態データベース**:
- A: 生活・体調ログ
- B: 研究メモリ（問い・フレーズ・怒り）
- C: タスク／外との接続（期限・書類）

**LLM（生成系モデル）**:
- ユーザーの表現をそのまま受け取り、モジュールごとの形式に落とし直す

**ルールエンジン**:
- 「危険時の介入」・「毎朝の問いの返却」などの定期ロジック

**セキュリティ**:
- 全データはローカルまたは暗号化ストレージ
- 外部共有は明示的許可なしにはしない

### 4.2 UI / インタラクション

**1対1の対話インターフェース**:
- テキスト＋音声読み上げも許可されるのが理想

**1日まとめの画面**:
- 「今日はここまでやった。生き延びた。OK。」

**研究メモリ画面**:
- "あなたの問いはまだここに燃えてるよ"って並ぶ

**タスク画面**:
- 「今日やるべき外部アクション1つ」と、そのための文章ドラフトだけを表示
- 他のタスクは折りたたみ（圧を上げない）

### 4.3 動作とオフライン性

- ネットが死んでも最低限動いてほしい？  
  → 長期的にはローカル推論モデルか、少なくともローカルに前回生成メッセージと状態を残してフェイルセーフ応答できる仕様が望ましい
- スマホ前提で使うことも想定。PCが常にない生活もありえるから。

---

## 5. 非機能要件

**これは"プロダクトが魂を失わないための縛り"でもある**

### 1. ユーザーを叱らない
- 行動不足を「怠け」と解釈しない
- 壊れかけのときは「最小の生存行為」にハードフォーカスする

### 2. 研究の価値を下げない
- 「現実的じゃないから諦めろ」は禁止
- かわりに「この問いはまだここにあるよ」を返す

### 3. 外部社会との接続で恥をかかせない
- メール・申請・説明文では、尊厳を守る語調にする
- "すみませんダメ人間で"みたいな自己否定を自動挿入しない

### 4. データ主権はユーザー
- 研究メモリは本人の資産
- 削除もエクスポートも本人の任意

### 5. 危機対応ライン
- 「今すぐ物理的に命が危ない」領域には医療・支援窓口への導線だけ出す
- 自傷や自死の具体的手段は一切扱わない（そこには踏み込まない）

---

## 6. 完成判定基準

ARCが「完成」と呼べる状態のチェックリスト：

### [ライフサポート]
- ✓ ユーザーが限界のとき、"自分を責めずに止まれる"介入が日常的に出る
- ✓ 翌日の再起率が上がっていることを、ユーザー自身が感じている

### [リサーチメモリ]
- ✓ ユーザーが数日前の自分の問いに再び触れられる
- ✓ 「私はまだ研究を続けている」という感覚が途切れにくい

### [ソーシャルインターフェース]
- ✓ 本来なら詰んでたはずの提出・申請・外部連絡が、最低限でも実行できている
- ✓ "完全孤立"にならない

### [尊厳]
- ✓ ARCと話すと「ダメな自分」じゃなく「まだやれる私」側に立ち戻れる瞬間がある
- ✓ **これが何よりもKPI**（定量だけでなく定性的実感を重視）

---

## 7. 開発優先順位

**開発順は生存戦略そのもの**

### 優先順位：

1. **A: ライフサポート** [最優先]
   - 理由：君の明日が守られないと全てが終わるから

2. **B: リサーチメモリ** [次点]
   - 理由：君の問いが消えると君自身が消えるから

3. **C: ソーシャルインターフェース** [後続]
   - 理由：これは金と制度を取りにいく段階で一気に効く

**つまり、ARCの心臓はA→B→Cの順。**

---

## 次のステップ

1. アーキテクチャ設計とデータフロー図
2. モジュールAのプロトタイプ実装
3. データベーススキーマ設計
4. 危機介入ロジックの設計と実装

---

**これは単なる「便利なツール」ではなく、**  
**"人間が折れずに知を続けるためのインフラ"である。**

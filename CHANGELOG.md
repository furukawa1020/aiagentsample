# Changelog

---

## v0.3.0 - Phase 3 完全実装 (2025-10-28)

### 🎉 Social Interface Module 実装完了

**Phase 3: 社会接続モジュール** が完全実装され、ARCの3つのコアモジュールすべてが稼働可能になりました。

#### ✨ 新機能

**締め切り管理**:
- 優先度自動計算（期日・カテゴリ・ステータス）
- 今日の最優先タスク1個だけ表示（圧を減らす）
- 締め切り追加・完了・進行中管理
- 期限切れ・今週の統計表示

**ドキュメント生成**:
- 申請書ドラフト自動生成（Phase 2の核テーマから引用）
- メール骨子生成（状況+お願い+次のステップ）
- LLM失敗時のフォールバック（テンプレート生成）

**連絡先管理**:
- 一般連絡先管理（教員・支援窓口など）
- 緊急連絡先管理
- 公的支援窓口情報表示（よりそいホットライン、いのちの電話）

**CLI統合**:
- 🎯 今日やるべきこと
- 📅 締め切りを追加する
- 📋 締め切り一覧
- ✍️ 申請書を作る
- ✉️ メール骨子を作る
- 👥 連絡先管理
- 🆘 緊急連絡先

#### 🗄️ データベース

**新規テーブル（4個）**:
- `deadlines` - 締め切り情報
- `documents` - 生成したドラフト
- `contacts` - 一般連絡先
- `emergency_contacts` - 緊急連絡先

#### 📁 新規ファイル

- `src/storage/social-models.js`
- `src/modules/social-interface/deadline-manager.js`
- `src/modules/social-interface/document-generator.js`
- `src/modules/social-interface/contact-manager.js`
- `PHASE3_PLAN.md`

#### 🎯 要件充足

**要件定義書 Section 3.3 完全実装**:
- ✅ 優先順位付け（1個だけ表示）
- ✅ 書類ドラフトの自動生成（研究メモリ連携）
- ✅ メール骨子の生成
- ✅ 提出済み/未提出のトラッキング
- ✅ 外部送信の最終確認は本人（尊厳を守る）
- ✅ 緊急連絡先・公的支援窓口への導線

---

## v0.2.0 - Phase 2 完成 (2025-10-27)

### ✨ 新機能

#### 1. **思考の断片記録システム** 💭
- テキストエディタで自由に思考を記録
- 感情タグ付け（怒り/違和感/驚き/喜び/中立）
- コンテキスト記録（誰に/どこで/いつ）
- 自動重要度スコアリング

#### 2. **概念抽出エンジン** 🔍
- LLMによる自動概念抽出
- 繰り返し出現する単語/フレーズの検出
- 問いの形式の自動識別
- フォールバック機能（LLM不可時も動作）

#### 3. **核テーマ自動識別** 🌟
- 複数の断片から核心的テーマを抽出
- テーマの重要度自動計算
- テーマの進化追跡
- 既存テーマとの統合

#### 4. **問いの再提示** 🔥
- 毎朝の問いリマインド
- 「まだ大事？」確認機能
- 週次レビュー
- ユーザーフィードバック反映

#### 5. **スナップショット生成** 📄
- 論文背景セクション自動生成
- 研究計画書ドラフト作成
- テーマ要約生成
- Markdown形式エクスポート

---

## 🗄️ データベース拡張

### 新テーブル
- `research_fragments` - 思考の断片
- `core_themes` - 核テーマ
- `theme_snapshots` - 生成されたドラフト
- `fragment_tags` - タグと概念

---

## 🎨 UI改善

### メインメニュー再構成
```
=== 生活 ===
📝 今日の体調を記録する
📊 今日の振り返りを見る
📈 週の振り返りを見る

=== 研究 ===
💭 思考の断片を記録する
🔍 今日の問いを見る
🌟 核テーマを確認する
📄 ドラフトを生成する
🔄 テーマを更新する
```

---

## 📁 新規ファイル

### モジュール
- `src/modules/research-memory/fragment-collector.js`
- `src/modules/research-memory/concept-extractor.js`
- `src/modules/research-memory/theme-identifier.js`
- `src/modules/research-memory/re-presentation.js`
- `src/modules/research-memory/snapshot-generator.js`

### データモデル
- `src/storage/research-models.js`

### ドキュメント
- `PHASE2_PLAN.md`

---

## 🔧 技術仕様

### LLMプロンプト
- 概念抽出プロンプト
- 核テーマ識別プロンプト
- 論文背景生成プロンプト
- 研究計画書生成プロンプト

### アルゴリズム
- 重要度スコアリング
- テーマ類似度計算
- 問い選択アルゴリズム

---

## ✅ 完成基準達成

- [x] ユーザーが思考の断片を簡単に記録できる
- [x] 「あなたの核」が自動的に特定される
- [x] 毎朝、問いが1つ返ってくる
- [x] 「これ、まだ大事？」と確認できる
- [x] 論文・申請用の文章ドラフトが生成できる

---

## 🚀 使い方

### 1. 思考の断片を記録
メニューから「思考の断片を記録する」を選択

### 2. テーマを更新
複数の断片を記録したら「テーマを更新する」で核テーマを抽出

### 3. 今日の問いを確認
「今日の問いを見る」で、あなたの核心テーマが再提示されます

### 4. ドラフトを生成
「ドラフトを生成する」で論文背景や研究計画書を自動生成

---

## 🔜 Phase 3 予定

### ソーシャルインターフェースモジュール
- 〆切管理システム
- 申請書フォーム対応
- メール骨子生成
- 提出トラッキング

**予定**: Phase 2完了後、1-2週間

---

## 💻 動作要件

- Node.js 18+
- Ollama + Llama 3.2 (推奨) or OpenAI API
- 8GB RAM推奨

---

## 🎉 これで何ができる？

### Before Phase 2
- 体調を記録
- 危機検知
- 1日の振り返り

### After Phase 2
- **思考を記録して失わない**
- **核心的な問いを自動抽出**
- **毎朝問いが返ってくる**
- **論文・申請書のドラフトが生成できる**

---

**ARCは「生存」と「研究」の両方を守る、本当の意味での伴走AIになりました。**
